<!DOCTYPE html>
<html>
  <head>
    <title>DecSpace - Settings</title>

    <meta name = 'viewport' content = 'width = device-width, initial-scale = 1'>

    <!-- CSS Stylesheet -->
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/index.css' />

    <!-- jQuery -->
    <script type = 'text/javascript' src = '../../js/shared/jquery-3.1.0.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/jquery-ui-1.12.0/jquery-ui.js'></script>

    <!-- AngularJS -->
    <script src = '../../js/shared/angular.min.js'></script>

    <!-- AngularJS Modules -->
    <script src = '../../js/app.js'></script>

    <!-- AngularJS Controllers -->
    <script src = '../../js/controllers/settings/SettingsController.js'></script>

    <!-- Bootstrap -->
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap.min.css'/>
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.js'></script>

    <!-- Google Web Fonts -->
    <link href = 'https://fonts.googleapis.com/css?family=Open+Sans:400,600i' rel = 'stylesheet'>

    <!-- ng-draggable module -->
    <script src = '../../js/shared/ng-draggable/ngDraggable.js'></script>
  </head>

  <body ng-app = 'decspace' ng-controller = 'SettingsController'>

    <!-- Navigation Bar -->
    <nav class = 'navbar navbar-custom navbar-fixed-top'>
      <div class = 'container'>
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class = 'navbar-header'>
          <button type = 'button' class = 'navbar-toggle collapsed' data-toggle = 'collapse' data-target = '#top-navbar' aria-expanded = 'false'>
            <span class = 'sr-only'>Toggle navigation</span>
            <span class = 'icon-bar'></span>
            <span class = 'icon-bar'></span>
            <span class = 'icon-bar'></span>
          </button>
          <!-- Title -->
          <a class = 'navbar-brand' href = '../../index.html'>DecSpace</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class = 'collapse navbar-collapse' id = 'top-navbar'>
          <!-- About, FAQ and Contact Us links. Sign Up and Log In buttons. -->
          <ul class = 'nav navbar-nav navbar-right'>
            <li>
              <p class = 'navbar-text' style = 'font-weight: 600; font-style: italic' ng-if = '!unregistered_user' ng-cloak>Welcome, {{name}}!</p>

              <p class = 'navbar-text' style = 'font-weight: 600; font-style: italic' ng-if = 'unregistered_user' ng-cloak>Welcome!</p>
            </li>
            
            <li><a href = '../projects/projects.html'>My Projects</a></li>
            
            <li><a href = '../projects/public-projects.html'>Public Projects</a></li>
            
            <li><a href = '../homepage/about.html'>About</a></li>

            <li><a href = '../method-catalog/method-catalog.html'>Method Catalog</a></li>

            <li><a href = '../homepage/faq.html'>FAQ</a></li>

            <li><a href = '../homepage/contactus.html'>Contact Us</a></li>

            <li class = 'active'><a href = '../settings/settings.html'>Settings</a></li>

            <li><a href = '../administrator/administrator.html' ng-if = 'username == "admin@admin"' ng-cloak>Administrator</a></li>
            
            <li>
              <button type = 'button' class = 'btn btn-default navbar-btn' ng-click = 'logOut()'>
                <span class = 'glyphicon glyphicon-log-out'></span>
                Log Out
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div id = 'main-content' class = 'container'>
      <br>

      <p class = 'header-1'>Settings</p>

      <br>

      <!-- Password Reset -->
      <p class = 'header-2'>Password Reset</p>

      <form class = 'form-horizontal'>
        <!-- Current Password -->
        <div class = 'form-group'>
          <label for = 'input-current-password' class = 'col-sm-4 control-label'>
            Current Password
          </label>

          <div class = 'col-sm-4 input-group'>
            <input type = '{{inputTypeCurrent}}' class = 'form-control' ng-model = 'password.current'>

            <span class = 'input-group-btn'>
              <button class = 'btn btn-default' type = 'button' ng-click = 'showCurrentPassword()'>
                <span id = 'eye-1' class = 'glyphicon glyphicon-eye-open'></span>
              </button>
            </span>
          </div>
        </div>

        <!-- New Password -->
        <div class = 'form-group'>
          <label for = 'input-new-password' class = 'col-sm-4 control-label'>
            New Password
          </label>

          <div class = 'col-sm-4 input-group'>
            <input type = '{{inputTypeNew}}' class = 'form-control' ng-model = 'password.new'>

            <span class = 'input-group-btn'>
              <button class = 'btn btn-default' type = 'button' ng-click = 'showNewPassword()'>
                <span id = 'eye-2' class = 'glyphicon glyphicon-eye-open'></span>
              </button>
            </span>
          </div>
        </div>

        <button class = 'btn btn-primary' ng-click = 'passwordReset()'>Reset</button>
      </form>

      <br>
      <!-- Create User -->
      <p class = 'header-2'>Create Users</p>

      <form class = 'form-horizontal'>

        <!-- Input Email -->
        <div class = 'form-group'>
          <label for = 'input-email' class = 'col-sm-4 control-label'>
            <span class = 'glyphicon glyphicon-envelope'></span>
          </label>
          <div id = 'input-email-div' class = 'col-sm-4'>
            <input id = 'input-email' type = 'email' class = 'form-control' placeholder = 'Email Address' ng-model = 'signup.email'>
          </div>
        </div>

        <button class = 'btn btn-primary' ng-click = 'createusers()'>Send</button>

      </form>
      <br>
      
      <!-- ALERTS -->
      <div class = 'row'>
        <div class = 'col-md-3'></div>
        
        <div id = 'password-error' class = 'alert alert-danger col-md-6' role = 'alert' ng-cloak>
          <button type = 'button' class = 'close' ng-click = 'hideAlert("password-error")' aria-label = 'Close'>
            <span aria-hidden = 'true'>&times;</span>
          </button>
          The current password was <strong>not</strong> correctly introduced.
        </div>

        <div id = 'password-success' class = 'alert alert-success col-md-6' role = 'alert' ng-cloak>
          <button type = 'button' class = 'close' ng-click = 'hideAlert("password-success")' aria-label = 'Close'>
            <span aria-hidden = 'true'>&times;</span>
          </button>
          Your password was <strong>successfully</strong> changed!
        </div>

        <div id = 'fields-error' class = 'alert alert-danger col-md-6' role = 'alert' ng-cloak>
          <button type = 'button' class = 'close' ng-click = 'hideAlert("fields-error")' aria-label = 'Close'>
            <span aria-hidden = 'true'>&times;</span>
          </button>
          <strong>Please</strong> fill both fields shown above.
        </div>
      </div>

    </div>

  </body>
</html>
